(this["webpackJsonpcv-react"]=this["webpackJsonpcv-react"]||[]).push([[5],{234:function(t,e,n){},235:function(t,e,n){},285:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(21),i=n(18),r=n.n(i),o=n(90),s=n(29),l=n(58),d=n(230),j=n(275),u=n(215),b=n(176),h=n(276),O=n(283),m=n(277),p=n(278),f=n(232),x=n.n(f),g=n(266),v=n(33),w=n(65),y=n(44),k=n(207),I=Object(k.a)((function(t){return{input:{"&:invalid":{border:"red solid 2px"}}}})),N=n(231),E=n.n(N),P=n(4);var S=function(t){var e=Object(g.a)({defaultValues:{}}),n=e.register,i=e.handleSubmit,f=(e.watch,e.reset),k=e.formState.errors,N=I(),S=Object(v.b)(),U=Object(c.useState)({}),C=Object(l.a)(U,2),F=C[0],T=C[1],W=Object(a.g)(),L=Object(a.h)().photoId,q=!L;Object(v.c)((function(t){return t.photo})).data,Object(c.useEffect)(Object(s.a)(r.a.mark((function t(){var e;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!L){t.next=8;break}return t.next=3,y.a.get(L);case 3:e=t.sent,T(Object(o.a)({},e)),f(Object(o.a)({},e)),t.next=9;break;case 8:T({});case 9:case"end":return t.stop()}}),t)}))),[]);var A=function(){var t=Object(s.a)(r.a.mark((function t(e){var n,c,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!q){t.next=7;break}return t.next=3,Object(w.a)(e);case 3:n=t.sent,S(n),t.next=12;break;case 7:return c={id:e.id,author:e.author,description:e.description,imageUrl:e.imageUrl,title:e.title},t.next=10,Object(w.b)(c);case 10:a=t.sent,S(a);case 12:W.push("/photos");case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(d.a,{maxWidth:"false",children:[Object(P.jsx)(j.a,{variant:"contained",color:"primary",className:N.button,startIcon:Object(P.jsx)(E.a,{}),style:{marginTop:30},onClick:function(){W.push("/photos")},children:"Go back home"}),Object(P.jsxs)("div",{style:{padding:16,margin:"auto",maxWidth:600},children:[Object(P.jsxs)(u.a,{variant:"h4",align:"center",component:"h1",gutterBottom:!0,className:"colorMode",children:["\ud83c\udfc1 ",q?"Add Photo Card":"Edit Photo Card"]}),Object(P.jsx)("form",{onSubmit:i(A),children:Object(P.jsx)(b.a,{style:{padding:16},children:Object(P.jsxs)(h.a,{container:!0,alignItems:"flex-start",spacing:2,children:[Object(P.jsxs)(h.a,{item:!0,xs:6,children:[Object(P.jsx)(O.a,{id:"outlined-multiline-static",label:"id",variant:"outlined",fullWidth:!0,dis:!0,inputProps:n("id"),style:{display:"none"}}),Object(P.jsx)(O.a,{id:"outlined-multiline-static",label:"Title",variant:"outlined",fullWidth:!0,required:!0,focused:!q,inputProps:n("title")})]}),Object(P.jsx)(h.a,{item:!0,xs:6,children:Object(P.jsx)(O.a,{id:"outlined-multiline-static",label:"Author",variant:"outlined",fullWidth:!0,required:!0,focused:!q,inputProps:n("author")})}),Object(P.jsx)(h.a,{item:!0,xs:12,children:Object(P.jsx)(O.a,{id:"outlined-multiline-static",label:"Description",multiline:!0,rows:4,variant:"outlined",fullWidth:!0,focused:!q,required:!0,inputProps:n("description")})}),Object(P.jsxs)(h.a,{item:!0,xs:12,children:[Object(P.jsx)(O.a,{id:"outlined-multiline-static",label:"Link Image",rows:2,variant:"outlined",fullWidth:!0,focused:!q,required:!0,inputProps:n("imageUrl",{pattern:/(https?:\/\/[^\s]+)/g}),onChange:function(t){var e=t.target.value;T(Object(o.a)(Object(o.a)({},F),{},{imageUrl:e}))}}),k.imageUrl&&Object(P.jsx)("span",{children:"Nh\u1eadp link \u1ea3nh !!!"})]}),Object(P.jsx)(h.a,{item:!0,xs:12,children:Object(P.jsx)(m.a,{variant:"outlined",children:Object(P.jsx)(p.a,{style:{display:"flex",justifyContent:"center"},children:Object(P.jsx)("img",{style:{width:360,height:360,objectFit:"cover"},src:F.imageUrl,alt:""})})})}),Object(P.jsx)(h.a,{item:!0,xs:12,children:Object(P.jsx)(j.a,{variant:"contained",color:"primary",type:"submit",startIcon:Object(P.jsx)(x.a,{}),children:"Upload"})})]})})})]})]})})},U=n(254),C=n.n(U),F=n(60),T=n(279),W=n(233),L=n.n(W),q=n(19),A=Object(k.a)((function(t){var e;return{margin:{margin:t.spacing(1)},scrollTop:(e={position:"fix"},Object(q.a)(e,"position","fixed"),Object(q.a)(e,"bottom","1.5rem"),Object(q.a)(e,"right","0.5rem"),Object(q.a)(e,"animation","$fadeIn 700ms ease-in-out 1s both"),Object(q.a)(e,"cursor","pointer"),e),"@keyframes fadeIn":{from:{opacity:0},to:{opacity:1}}}}));var B=function(t){var e=Object(c.useState)(!1),n=Object(l.a)(e,2),a=n[0],i=n[1],r=A();function o(){window.pageYOffset>300?i(!0):i(!1)}return Object(c.useEffect)((function(){return window.addEventListener("scroll",o),function(){window.removeEventListener("scroll",o)}})),Object(P.jsx)(P.Fragment,{children:a&&Object(P.jsx)(T.a,{size:"medium",color:"secondary","aria-label":"add",className:(r.margin,r.scrollTop),id:"scroll-to-top",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:Object(P.jsx)(L.a,{})})})};n(234);var M=function(t){var e=Object(c.useState)(!1),n=Object(l.a)(e,2),a=n[0],i=n[1],r=t.editPhoto,o=t.removePhoto,s=t.isShow;return Object(c.useEffect)((function(){i(!1)}),[s]),Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:"icon-container ".concat(s?"show":""),children:[Object(P.jsxs)("div",{className:"inner-fabs ".concat(a&&s?"show":""," "),children:[Object(P.jsx)("div",{className:"fab round",id:"fab4","data-tooltip":"Delete",onClick:function(){o()},children:Object(P.jsx)("i",{className:"material-icons",children:"delete_forever"})}),Object(P.jsx)("div",{className:"fab round",id:"fab3","data-tooltip":"Edit",onClick:function(){r()},children:Object(P.jsx)("i",{className:"material-icons",children:"create"})})]}),Object(P.jsx)("div",{className:"fab round",id:"fab1",onClick:function(){i((function(t){return!t}))},children:Object(P.jsx)("i",{className:"material-icons",id:"fabIcon",children:"add"})})]})})};n(235);var D=function(t){var e=t.photoItem,n=Object(a.g)(),i=Object(v.b)(),r=Object(c.useState)(!1),o=Object(l.a)(r,2),s=o[0],d=o[1],j=Object(c.useState)(!1),u=Object(l.a)(j,2);return u[0],u[1],Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{id:"card-photo",class:"card-photo",style:{backgroundImage:"url(".concat(e.imageUrl,")")},onMouseEnter:function(){d(!0)},onMouseLeave:function(){d(!1)},children:[Object(P.jsxs)("div",{class:"img",children:[Object(P.jsx)("span",{style:{backgroundImage:"url(".concat(e.imageUrl,")")}}),Object(P.jsx)("span",{style:{backgroundImage:"url(".concat(e.imageUrl,")")}}),Object(P.jsx)("span",{style:{backgroundImage:"url(".concat(e.imageUrl,")")}}),Object(P.jsx)("span",{style:{backgroundImage:"url(".concat(e.imageUrl,")")}})]}),Object(P.jsxs)("div",{class:"content",children:[Object(P.jsxs)("h2",{children:[" ",e.author]}),Object(P.jsx)("h2",{children:e.title}),Object(P.jsx)("h4",{children:e.description})]}),Object(P.jsx)(M,{editPhoto:function(){var t="/photos/".concat(e.id);n.push(t)},removePhoto:function(){var t=Object(w.c)(e.id);i(t)},isShow:s})]})})},H=n(80),J=Object(k.a)((function(t){return{banner:{display:"flex",flexFlow:"row wrap",alignItems:"center",justifyContent:"center",height:"15rem",backgroundPosition:"center"},title:{color:"rgba(255,255,255,0.85)",fontWeight:"bold",margin:"auto"}}})),z=(n(236),n(237),n(238)),G=n.n(z);var R=function(t){var e=t.title,n=t.backgroundUrl,c=J(),a=n?Object(H.a)(n):[" https://i.pinimg.com/564x/8a/a7/f3/8aa7f39e153dc80ca16855071320063c.jpg"," https://i.pinimg.com/236x/15/02/3f/15023fd9bc55470260779f01b48faa04.jpg"];return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(G.a,Object(o.a)(Object(o.a)({},{dots:!1,infinite:!0,autoplay:!0,arrows:!1,speed:500,slidesToShow:1,slidesToScroll:1}),{},{children:a.map((function(t){return Object(P.jsx)("div",{children:Object(P.jsx)("section",{className:c.banner,style:{background:"url(".concat(t,")")},children:Object(P.jsx)("h1",{className:c.title,children:e})})})}))}))})},V=Object(k.a)((function(t){return{button:{marginTop:20,marginBottom:20},iconButton:{marginRight:5},iconItem:{color:"rgba(255, 255, 255, 0.54)"}}}));var Y=function(t){var e=V(),n=Object(c.useState)(!1),a=Object(l.a)(n,2),i=(a[0],a[1],Object(c.useState)(1)),o=Object(l.a)(i,2),u=(o[0],o[1],Object(v.c)((function(t){return t.photo}))),b=Object(v.b)(),O=u.data,m=(u.pagination,u.key),p=u.currentpage,f=u.totalPage,x=u.loading;return Object(c.useEffect)((function(){var t=Object(w.f)({page:1,title:m});b(t)}),[x]),Object(c.useEffect)((function(){var t=!0,e=function(){var t=Object(s.a)(r.a.mark((function t(){var e;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(w.d)({page:p+1,title:m});case 2:e=t.sent,b(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(n){window.innerHeight+document.documentElement.scrollTop>document.documentElement.offsetHeight-300&&t&&(t=!1,p<f&&e())};return window.addEventListener("scroll",n),function(){return window.removeEventListener("scroll",n)}}),[u]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(R,{title:"List Photo App"}),Object(P.jsxs)(d.a,{maxWidth:"false",children:[Object(P.jsx)(j.a,{className:e.button,component:F.b,to:"photos/add",variant:"contained",color:"primary",startIcon:Object(P.jsx)(C.a,{}),children:"Add photo"}),Object(P.jsx)(h.a,{container:!0,spacing:3,id:"list",children:O.map((function(t,e){return Object(P.jsx)(h.a,{item:!0,xs:3,spacing:3,children:Object(P.jsx)(D,{photoItem:t})})}))}),x&&Object(P.jsx)("div",{children:"Loading ..."}),Object(P.jsx)(B,{})]})]})};e.default=function(t){var e=Object(a.i)();return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(a.d,{children:[Object(P.jsx)(a.b,{exact:!0,path:e.url,component:Y}),Object(P.jsx)(a.b,{exact:!0,path:"".concat(e.url,"/add"),component:S}),Object(P.jsx)(a.b,{path:"".concat(e.url,"/:photoId"),component:S})]})})}}}]);
//# sourceMappingURL=5.80719e58.chunk.js.map