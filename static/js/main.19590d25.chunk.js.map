{"version":3,"sources":["components/Header/Search/style.js","components/Header/Search/index.js","components/Header/style.js","theme/themeSlice.js","components/Header/ToggleMode/index.js","components/Header/index.js","theme/theme.js","user/userSlice.js","App.js","reportWebVitals.js","index.js","aip/axiosClient.js","aip/photoApi.js","features/photo/photoSlice.js"],"names":["useStyles","makeStyles","theme","inputRoot","color","inputInput","padding","spacing","paddingLeft","transition","transitions","create","width","breakpoints","up","Search","props","classes","dispatch","useDispatch","typingTimeoutRef","useRef","action","InputBase","placeholder","root","input","inputProps","onChange","e","value","target","current","clearTimeout","setTimeout","searchAsyncThunk","page","title","grow","flexGrow","menuButton","marginRight","display","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","marginLeft","searchIcon","height","pointerEvents","alignItems","justifyContent","sectionDesktop","sectionMobile","themeSlice","createSlice","name","initialState","darkMode","reducers","toggleTheme","state","payload","actions","reducer","ToggleMode","Tooltip","aria-label","className","type","event","checked","Header","React","useState","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","history","useHistory","currentUser","useSelector","user","handleProfileMenuOpen","currentTarget","handleMobileMenuClose","handleMenuClose","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","open","onClose","MenuItem","onClick","firebase","auth","signOut","push","mobileMenuId","renderMobileMenu","IconButton","Badge","badgeContent","aria-controls","aria-haspopup","AppBar","Toolbar","edge","Typography","variant","noWrap","to","style","textDecoration","exact","Avatar","alt","src","imageUrl","lightTheme","body","fontColor","background","darkTheme","GlobalStyles","createGlobalStyle","userSlice","initUser","Photo","lazy","NotFoundPage","SignIn","initializeApp","apiKey","process","authDomain","App","setIsSignedIn","useEffect","unregisterAuthObserver","onAuthStateChanged","a","console","log","displayName","getIdToken","token","userInfor","photoURL","phoneNumber","providerId","uid","email","fallback","from","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","photo","Photoreducer","Themereducer","User","ReactDOM","render","CssBaseline","StrictMode","document","getElementById","getFirebaseToken","axiosClient","axios","baseURL","headers","paramsSerializer","params","queryString","stringify","interceptors","request","use","config","Authorization","response","data","error","PhotoApi","getAll","url","get","post","edit","put","remove","delete","createAsyncThunk","respon","ScrollAsyncThunk","AddAsyncThunk","GetAsyncThunk","EditAsyncThunk","thunkAPI","RemoveAsyncThunk","todoSlice","pagination","key","currentpage","totalPage","loading","fetchdata","addPhoto","toast","success","editPhoto","removePhoto","searchPhoto","extraReducers","fulfilled","_totalRows","_limit","meta","arg","Math","ceil","pending","rejected","removePhotoId","index","findIndex","x","splice"],"mappings":"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","file":"static/js/main.19590d25.chunk.js","sourcesContent":["import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  inputRoot: {\r\n    color: \"inherit\",\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create(\"width\"),\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: \"20ch\",\r\n    },\r\n  },\r\n}));\r\n","import { InputBase } from \"@material-ui/core\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { searchAsyncThunk } from \"../../../features/photo/photoSlice\";\r\nimport { useStyles } from \"./style\";\r\n\r\nfunction Search(props) {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const typingTimeoutRef = useRef(null);\r\n  // useEffect(()=>{\r\n  //   const action = searchAsyncThunk({page:1,title:\"\"});\r\n  //   dispatch(action);\r\n  // },[])\r\n  const handleFitlerChange = (e) => {\r\n    const value  = e.target.value \r\n    if (typingTimeoutRef.current) {\r\n      clearTimeout(typingTimeoutRef.current);\r\n    };\r\n    typingTimeoutRef.current =  setTimeout(()=>{\r\n      const action = searchAsyncThunk({page:1,title:value});\r\n      dispatch(action);\r\n    },300)\r\n\r\n  };\r\n  return (\r\n    <>\r\n      <form action=\"\">\r\n        <InputBase\r\n          placeholder=\"Search…\"\r\n          classes={{\r\n            root: classes.inputRoot,\r\n            input: classes.inputInput,\r\n          }}\r\n          inputProps={{ \"aria-label\": \"search\" }}\r\n          onChange={handleFitlerChange}\r\n        />\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","import { fade, makeStyles } from '@material-ui/core/styles';\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n    grow: {\r\n      flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n      display: 'none',\r\n      [theme.breakpoints.up('sm')]: {\r\n        display: 'block',\r\n      },\r\n    },\r\n    search: {\r\n      position: 'relative',\r\n      borderRadius: theme.shape.borderRadius,\r\n      backgroundColor: fade(theme.palette.common.white, 0.15),\r\n      '&:hover': {\r\n        backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      },\r\n      marginRight: theme.spacing(2),\r\n      marginLeft: 0,\r\n      width: '100%',\r\n      [theme.breakpoints.up('sm')]: {\r\n        marginLeft: theme.spacing(3),\r\n        width: 'auto',\r\n      },\r\n    },\r\n    searchIcon: {\r\n      padding: theme.spacing(0, 2),\r\n      height: '100%',\r\n      position: 'absolute',\r\n      pointerEvents: 'none',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n      color: 'inherit',\r\n    },\r\n    inputInput: {\r\n      padding: theme.spacing(1, 1, 1, 0),\r\n      // vertical padding + font size from searchIcon\r\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n      transition: theme.transitions.create('width'),\r\n      width: '100%',\r\n      [theme.breakpoints.up('md')]: {\r\n        width: '20ch',\r\n      },\r\n    },\r\n    sectionDesktop: {\r\n      display: 'none',\r\n      [theme.breakpoints.up('md')]: {\r\n        display: 'flex',\r\n      },\r\n    },\r\n    sectionMobile: {\r\n      display: 'flex',\r\n      [theme.breakpoints.up('md')]: {\r\n        display: 'none',\r\n      },\r\n    },\r\n  }));","// 1. Setup todo slice\r\n\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\n\r\n// todoSlice.js\r\nconst themeSlice = createSlice({\r\n  name: \"theme\",\r\n  initialState: {\r\n    darkMode: false\r\n  },\r\n  reducers: {\r\n    toggleTheme(state, action) {\r\n      state.darkMode = action.payload\r\n    },\r\n  },\r\n});\r\nconst { actions, reducer } = themeSlice;\r\nexport const { toggleTheme } = actions;\r\nexport default reducer;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./style.css\"\r\nimport { useDispatch } from \"react-redux\";\r\nimport { toggleTheme } from \"../../../theme/themeSlice\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nToggleMode.propTypes = {};\r\n\r\nfunction ToggleMode(props) {\r\n    const dispatch = useDispatch()\r\n    const handleChange = (event) => {\r\n        const action = toggleTheme(event.target.checked)\r\n        dispatch(action)\r\n      };\r\n  return (\r\n    <Tooltip title=\"Toggle light/dark theme\" aria-label=\"add\">\r\n     <div className=\"toggle-switch\">\r\n      <label className=\"switch\" >\r\n        <input type=\"checkbox\"  onChange={handleChange} />\r\n        <span className=\"slider round\" />\r\n      </label>\r\n    </div>\r\n  </Tooltip>\r\n  \r\n  );\r\n}\r\n\r\nexport default ToggleMode;\r\n","import { Avatar } from \"@material-ui/core\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport MailIcon from \"@material-ui/icons/Mail\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\r\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport firebase from \"firebase\";\r\nimport React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport Search from \"./Search\";\r\nimport { useStyles } from \"./style\";\r\nimport ToggleMode from \"./ToggleMode\";\r\n\r\nexport default function Header() {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\r\n\r\n  const isMenuOpen = Boolean(anchorEl);\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n  const history = useHistory();\r\n  const state = useSelector((state) => state.user);\r\n  const { currentUser } = state;\r\n\r\n  const handleProfileMenuOpen = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMobileMenuClose = () => {\r\n    setMobileMoreAnchorEl(null);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    handleMobileMenuClose();\r\n  };\r\n\r\n  const handleMobileMenuOpen = (event) => {\r\n    setMobileMoreAnchorEl(event.currentTarget);\r\n  };\r\n  const handleLogOut = () => {\r\n    firebase.auth().signOut();\r\n    handleMenuClose();\r\n    history.push(\"/sign-in\");\r\n  };\r\n\r\n  const menuId = \"primary-search-account-menu\";\r\n  const renderMenu = (\r\n    <Menu\r\n      anchorEl={anchorEl}\r\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      id={menuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      open={isMenuOpen}\r\n      onClose={handleMenuClose}\r\n    >\r\n      <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\r\n      <MenuItem onClick={handleMenuClose}>My account</MenuItem>\r\n      <MenuItem onClick={handleLogOut}>Log out</MenuItem>\r\n    </Menu>\r\n  );\r\n\r\n  const mobileMenuId = \"primary-search-account-menu-mobile\";\r\n  const renderMobileMenu = (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchorEl}\r\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      open={isMobileMenuOpen}\r\n      onClose={handleMobileMenuClose}\r\n    >\r\n      <MenuItem>\r\n        <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\r\n          <Badge badgeContent={4} color=\"secondary\">\r\n            <MailIcon />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Messages</p>\r\n      </MenuItem>\r\n      <MenuItem>\r\n        <IconButton aria-label=\"show 11 new notifications\" color=\"inherit\">\r\n          <Badge badgeContent={11} color=\"secondary\">\r\n            <NotificationsIcon />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Notifications</p>\r\n      </MenuItem>\r\n      <MenuItem onClick={handleProfileMenuOpen}>\r\n        <IconButton\r\n          aria-label=\"account of current user\"\r\n          aria-controls=\"primary-search-account-menu\"\r\n          aria-haspopup=\"true\"\r\n          color=\"inherit\"\r\n        >\r\n          <AccountCircle />\r\n        </IconButton>\r\n        <p>Profile</p>\r\n      </MenuItem>\r\n    </Menu>\r\n  );\r\n  //\r\n  // const history\r\n\r\n  return (\r\n    <div className={classes.grow}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography className={classes.title} variant=\"h6\" noWrap>\r\n            <Link to=\"/\" style={{ textDecoration: \"none\", color: \"#fff\" }}>\r\n              Material-Ui\r\n            </Link>\r\n          </Typography>\r\n          <div className={classes.search}>\r\n            <div className={classes.searchIcon}>\r\n              <SearchIcon />\r\n            </div>\r\n            <Search />\r\n          </div>\r\n          <div className={classes.grow} />\r\n          <div className={classes.sectionDesktop}>\r\n            <ToggleMode />\r\n            {!currentUser.name && (\r\n              <Typography\r\n                className={classes.title}\r\n                variant=\"h6\"\r\n                noWrap\r\n                style={{ display: \"flex\", alignItems: \"center\" }}\r\n              >\r\n                <Link\r\n                  exact\r\n                  to=\"/sign-in\"\r\n                  style={{ textDecoration: \"none\", color: \"#fff\" }}\r\n                >\r\n                  Sign in\r\n                </Link>\r\n              </Typography>\r\n            )}\r\n            {currentUser.name && (\r\n              <>\r\n                <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\r\n                  <Badge badgeContent={4} color=\"secondary\">\r\n                    <MailIcon />\r\n                  </Badge>  \r\n                </IconButton>\r\n                <IconButton\r\n                  aria-label=\"show 17 new notifications\"\r\n                  color=\"inherit\"\r\n                >\r\n                  <Badge badgeContent={17} color=\"secondary\">\r\n                    <NotificationsIcon />\r\n                  </Badge>\r\n                </IconButton>\r\n                <IconButton\r\n                  edge=\"end\"\r\n                  aria-label=\"account of current user\"\r\n                  aria-controls={menuId}\r\n                  aria-haspopup=\"true\"\r\n                  onClick={handleProfileMenuOpen}\r\n                  color=\"inherit\"\r\n                >\r\n                <Avatar alt={currentUser.name} src={currentUser.imageUrl} style={{width:32,height:32}}/>\r\n                </IconButton>\r\n              </>\r\n            )}\r\n          </div>\r\n          <div className={classes.sectionMobile}>\r\n            <IconButton\r\n              aria-label=\"show more\"\r\n              aria-controls={mobileMenuId}\r\n              aria-haspopup=\"true\"\r\n              onClick={handleMobileMenuOpen}\r\n              color=\"inherit\"\r\n            >\r\n              <MoreIcon />\r\n            </IconButton>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      {renderMobileMenu}\r\n      {renderMenu}\r\n    </div>\r\n  );\r\n}\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nexport const lightTheme = {\r\n  body: \"#fff\",\r\n  fontColor: \"#000\",\r\n  background:\"#fff\"\r\n};\r\n\r\nexport const darkTheme = {\r\n  body: \"#000\",\r\n  fontColor: \"#fff\",\r\n  background:\"url('https://i.pinimg.com/236x/17/ed/0e/17ed0e7d33e7b6af22738e47f7ef6286.jpg')\"\r\n};\r\n\r\nexport const GlobalStyles = createGlobalStyle`\r\n\tbody {\r\n\t\tbackground: ${(props) => props.theme.background};\r\n\t}\r\n    .colorMode {\r\n\t\tcolor: ${(props) => props.theme.fontColor};\r\n        \r\n\t}\r\n`;","// 1. Setup todo slice\r\n\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\n\r\n// todoSlice.js\r\nconst userSlice = createSlice({\r\n  name: \"user\",\r\n  initialState: {\r\n    currentUser: {\r\n    },\r\n  },\r\n  reducers: {\r\n    initUser(state, action) {\r\n      state.currentUser={...action.payload}\r\n    },\r\n  },\r\n});\r\nconst { actions, reducer } = userSlice;\r\nexport const { initUser } = actions;\r\nexport default reducer;\r\n","import firebase from \"firebase\";\nimport React, { Suspense, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  BrowserRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { ThemeProvider } from \"styled-components\";\nimport Header from \"./components/Header\";\nimport { darkTheme, GlobalStyles, lightTheme } from \"./theme/theme\";\nimport { initUser } from \"./user/userSlice\";\n// Lazy load - Code splitting\nconst Photo = React.lazy(() => import(\"./features/photo\"));\nconst NotFoundPage = React.lazy(() => import(\"./components/NotFound\"));\nconst SignIn = React.lazy(() => import(\"./features/Auth/pages/SignIn\"));\nconst config = {\n  apiKey: process.env.REACT_APP_FIREBASE_API,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n};\nfirebase.initializeApp(config);\nfunction App() {\n  const state = useSelector((state) => state.theme);\n  const [isSignedIn, setIsSignedIn] = useState(false); // Local signed-in state.\n  // Listen to the Firebase Auth state and set the local state.\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const unregisterAuthObserver = firebase\n      .auth()\n      .onAuthStateChanged(async (user) => {\n        if (!user) {\n          console.log(\"chưa login \");\n          const action = initUser({});\n          dispatch(action);\n          return;\n        }\n        console.log(\"login user \", user.displayName);\n        const token = await user.getIdToken();\n        const userInfor = {\n          name: user.displayName,\n          imageUrl: user.photoURL,\n          phoneNumber: user.phoneNumber,\n          providerId: user.providerId,\n          uid: user.uid,\n          email: user.email,\n          token: token,\n        };\n        const action = initUser(userInfor);\n        dispatch(action);\n        setIsSignedIn(!!user);\n      });\n    return () => unregisterAuthObserver(); // Make sure we un-register Firebase observers when the component unmounts.\n  }, []);\n  const { darkMode } = state;\n  return (\n    <ThemeProvider theme={darkMode ? darkTheme : lightTheme}>\n      <GlobalStyles />\n      <div className=\"App\">\n        <Suspense fallback={<div>Loading ...</div>}>\n          <Router>\n            <Header />\n            <Switch>\n              <Redirect exact from=\"/\" to=\"/photos\" />\n              <Route path=\"/photos\" component={Photo} />\n              <Route path=\"/sign-in\" component={SignIn} />\n              <Route component={NotFoundPage} />\n            </Switch>\n          </Router>\n        </Suspense>\n        <ToastContainer />\n      </div>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { configureStore } from \"@reduxjs/toolkit\";\nimport Photoreducer from \"./features/photo/photoSlice\";\nimport Themereducer from \"./theme/themeSlice\";\nimport User from \"./user/userSlice\";\nimport { Provider } from \"react-redux\";\nimport { CssBaseline } from \"@material-ui/core\";\n\n//store\nconst store = configureStore({\n  reducer: {\n    photo: Photoreducer,\n    theme:Themereducer,\n    user:User\n  },\n});\nReactDOM.render(\n  <Provider store={store}>\n    <CssBaseline />\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// api/axiosClient.js\r\nimport axios from \"axios\";\r\nimport queryString from \"query-string\";\r\nimport firebase from \"firebase\";\r\n// Set up default config for http requests here\r\n\r\n// Please have a look at here `https://github.com/axios/axios#request-config` for the full list of configs\r\nconst getFirebaseToken = async () => {\r\n    const currentUser = firebase.auth().currentUser;\r\n    if (currentUser) return currentUser.getIdToken();\r\n  \r\n    // Not logged in\r\n    // const hasRememberedAccount = localStorage.getItem('firebaseui::rememberedAccounts');\r\n    // if (!hasRememberedAccount) return null;\r\n  \r\n    // // Logged in but current user is not fetched --> wait (10s)\r\n    // return new Promise((resolve, reject) => {\r\n    //   const waitTimer = setTimeout(() => {\r\n    //     reject(null);\r\n    //     console.log('Reject timeout');\r\n    //   }, 10000);\r\n  \r\n    //   const unregisterAuthObserver = firebase.auth().onAuthStateChanged(async (user) => {\r\n    //     if (!user) {\r\n    //       reject(null);\r\n    //     }\r\n    //     const token = await user.getIdToken();\r\n    //     console.log('[AXIOS] Logged in user token: ', token);\r\n    //     resolve(token);\r\n  \r\n    //     unregisterAuthObserver();\r\n    //     clearTimeout(waitTimer);\r\n    //   });\r\n    // });\r\n       const unregisterAuthObserver = firebase.auth().onAuthStateChanged(async (user) => {\r\n           if (!user) {\r\n            return ;\r\n           }\r\n           const token = await user.getIdToken();\r\n           return token\r\n      });\r\n      return unregisterAuthObserver\r\n  }\r\nconst axiosClient = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL,\r\n  headers: {\r\n    \"content-type\": \"application/json\",\r\n  },\r\n  paramsSerializer: (params) => queryString.stringify(params),\r\n});\r\naxiosClient.interceptors.request.use(async (config) => {\r\n  // Handle token here ...\r\n  const token = await getFirebaseToken();\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\naxiosClient.interceptors.response.use(\r\n  (response) => {\r\n    if (response && response.data) {\r\n      return response.data;\r\n    }\r\n    return response;\r\n  },\r\n  (error) => {\r\n    // Handle errors\r\n    throw error;\r\n  }\r\n);\r\nexport default axiosClient;\r\n","import axiosClient from\"./axiosClient\"\r\nconst PhotoApi = {\r\n  getAll: (params) => {\r\n    const url = `?_limit=10&_page=${params}`;\r\n    return axiosClient.get(url);\r\n  },\r\n  get: (id) => {\r\n    const url = `/${id}`;\r\n    return axiosClient.get(url);\r\n  },\r\n  search: (page,title) => {\r\n    const url = `?_limit=10&_page=${page}&title_like=${title}`;\r\n    return axiosClient.get(url);\r\n  },\r\n  post: (params) => {\r\n    const url = `/`;\r\n    return axiosClient.post(url,  params );\r\n  },\r\n  edit: (params) => {\r\n    const url = `/${params.id}`;\r\n    return axiosClient.put(url,  params );\r\n  },\r\n  remove: (id) => {\r\n    const url = `/${id}`;\r\n    return axiosClient.delete(url );\r\n  },\r\n};\r\nexport default PhotoApi\r\n","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport PhotoApi from \"../../aip/photoApi\";\r\n\r\nexport const searchAsyncThunk = createAsyncThunk(\r\n  \"photo/search\",\r\n  async (params) => {\r\n    const respon = await PhotoApi.search(params.page, params.title);\r\n    return respon;\r\n  }\r\n);\r\nexport const ScrollAsyncThunk = createAsyncThunk(\r\n  \"photo/scroll\",\r\n  async (params) => {\r\n    const respon = await PhotoApi.search(params.page, params.title);\r\n    return respon;\r\n  }\r\n);\r\nexport const AddAsyncThunk = createAsyncThunk(\r\n  \"photo/add\",\r\n  async (params) => {\r\n    const respon = await PhotoApi.post(params);\r\n    return respon;\r\n  }\r\n);\r\nexport const GetAsyncThunk = createAsyncThunk(\r\n  \"photo/get\",\r\n  async (params) => {\r\n    const respon = await PhotoApi.get(params);\r\n    return respon;\r\n  }\r\n);\r\nexport const EditAsyncThunk = createAsyncThunk(\r\n  \"photo/edit\",\r\n  async (params,thunkAPI) => {\r\n    const respon = await PhotoApi.edit(params);\r\n    return respon;\r\n  }\r\n);\r\nexport const RemoveAsyncThunk = createAsyncThunk(\r\n  \"photo/remove\",\r\n  async (params,thunkAPI) => {\r\n    const respon = await PhotoApi.remove(params);\r\n    return params;\r\n  }\r\n);\r\nconst todoSlice = createSlice({\r\n  name: \"photo\",\r\n  initialState: {\r\n    data: [],\r\n    pagination: {},\r\n    key: \"\",\r\n    currentpage: 1,\r\n    totalPage:1,\r\n    loading:false\r\n  },\r\n  reducers: {\r\n    fetchdata(state, action) {\r\n    },\r\n    addPhoto(state, action) {\r\n      toast.success(\"Thêm photo thành công\")\r\n    },\r\n    editPhoto(state, action) {\r\n    },\r\n    removePhoto(state, action) {\r\n    },\r\n    searchPhoto(state, action) {},\r\n  },\r\n  extraReducers: {\r\n    [searchAsyncThunk.fulfilled]: (state, action) => {\r\n      const { data, pagination } = action.payload;\r\n      const{_totalRows,_limit} =pagination\r\n      state.data = [];\r\n      state.data.push(...data);\r\n      state.pagination = pagination;\r\n      state.key = action.meta.arg?.title;\r\n      state.currentpage = 1\r\n      state.totalPage = Math.ceil(_totalRows / _limit)\r\n    },\r\n    [ScrollAsyncThunk.fulfilled]: (state, action) => {\r\n      const { data } = action.payload;\r\n      state.currentpage = state.currentpage + 1\r\n      if (state.currentpage <= state.totalPage) {\r\n       state.data.push(...data)\r\n      }\r\n    },\r\n    //add\r\n    [AddAsyncThunk.pending]: (state, action) => {\r\n      state.loading = true\r\n    },\r\n    [AddAsyncThunk.fulfilled]: (state, action) => {\r\n      state.loading = false\r\n      toast.success(\"Thêm photo thành công\")\r\n    },\r\n    [AddAsyncThunk.rejected]: (state, action) => {\r\n      state.loading = false\r\n      toast.error(\"Thêm photo thất bại\")\r\n    },\r\n    //\r\n    [GetAsyncThunk.fulfilled]: (state, action) => {\r\n    },\r\n    //edit\r\n    [EditAsyncThunk.pending]: (state, action) => {\r\n      state.loading = true\r\n    },\r\n    [EditAsyncThunk.fulfilled]: (state, action) => {\r\n      state.loading = false\r\n      toast.success(\"Sửa photo thành công\")\r\n    },\r\n    [EditAsyncThunk.rejected]: (state, action) => {\r\n      state.loading = false\r\n      toast.error(\"Thêm photo thất bại\")\r\n    },\r\n    //remove\r\n    [RemoveAsyncThunk.pending]: (state, action) => {\r\n    },\r\n    [RemoveAsyncThunk.fulfilled]: (state, action) => {\r\n      const removePhotoId = action.payload;\r\n      const index = state.data.findIndex(x=>x.id == removePhotoId)\r\n      if (index > -1) {\r\n        state.data.splice(index, 1);\r\n      }\r\n      toast.success(\"Xóa photo thành công\")\r\n    },\r\n    [RemoveAsyncThunk.rejected]: (state, action) => {\r\n      toast.error(\"Xóa thất bại\")\r\n    },\r\n  },\r\n});\r\n\r\nconst { actions, reducer } = todoSlice;\r\nexport const {\r\n  addPhoto,\r\n  editPhoto,\r\n  removePhoto,\r\n  fetchdata,\r\n  searchPhoto,\r\n} = actions;\r\nexport default reducer;\r\n"],"sourceRoot":""}