{"version":3,"sources":["features/photo/pages/AddEdit/style.js","features/photo/pages/AddEdit/index.js","components/ButtonToTop/style.js","components/ButtonToTop/index.js","features/photo/components/Floating Icon/index.js","features/photo/components/Photocard/index.js","components/Banner/style.js","components/Banner/index.js","features/photo/pages/Main/style.js","features/photo/pages/Main/index.js","features/photo/index.js"],"names":["useStyles","makeStyles","theme","input","border","AddEditPage","props","useForm","defaultValues","register","handleSubmit","reset","watch","errors","formState","classes","dispatch","useDispatch","useState","photoCard","setPhotoCard","history","useHistory","photoId","useParams","isAddMode","useSelector","state","photo","data","useEffect","a","PhotoApi","get","photoEdit","onSubmit","AddAsyncThunk","action","photoEdited","id","author","description","imageUrl","title","EditAsyncThunk","push","Container","maxWidth","Button","variant","color","className","button","startIcon","style","marginTop","onClick","padding","margin","Typography","align","component","gutterBottom","Paper","Grid","container","alignItems","spacing","item","xs","TextField","label","fullWidth","dis","inputProps","display","required","focused","multiline","rows","pattern","onChange","e","value","target","Card","CardContent","justifyContent","width","height","objectFit","src","alt","type","scrollTop","position","opacity","ButtonToTop","isShow","setIsShow","logit","window","pageYOffset","addEventListener","removeEventListener","Fab","size","aria-label","scrollTo","top","behavior","FloatingIcon","isshowIcon","setIsShowIcon","editPhoto","removePhoto","data-tooltip","PhotoCard","photoItem","class","backgroundImage","onMouseEnter","onMouseLeave","editPhotoUrl","RemoveAsyncThunk","banner","flexFlow","backgroundPosition","fontWeight","Banner","backgroundUrl","backgroundSlide","dots","infinite","autoplay","arrows","speed","slidesToShow","slidesToScroll","map","x","background","marginBottom","iconButton","marginRight","iconItem","MainPage","key","pagination","currentpage","totalPage","loading","searchAsyncThunk","page","flag","loadMoreData","ScrollAsyncThunk","onScroll","innerHeight","document","documentElement","offsetHeight","Link","to","i","Photo","match","useRouteMatch","exact","path","url"],"mappings":"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","file":"static/js/5.80719e58.chunk.js","sourcesContent":["import {  makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n    input: {\r\n        \"&:invalid\": {\r\n          border: \"red solid 2px\"\r\n        }\r\n      }\r\n  \r\n}));","import {\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Container,\r\n  Grid,\r\n  Paper,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Prompt, useHistory, useParams } from \"react-router\";\r\nimport { AddAsyncThunk, EditAsyncThunk } from \"../../photoSlice\";\r\nimport PhotoApi from \"./../../../../aip/photoApi\";\r\nimport { useStyles } from \"./style\";\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nAddEditPage.propTypes = {};\r\n\r\nfunction AddEditPage(props) {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    watch,\r\n    reset,\r\n    formState: { errors },\r\n  } = useForm({ defaultValues: {} });\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const [photoCard, setPhotoCard] = useState({});\r\n  const history = useHistory();\r\n  const { photoId } = useParams();\r\n  const isAddMode = !photoId;\r\n  const state = useSelector((state) => state.photo);\r\n  const { data } = state;\r\n  useEffect(async () => {\r\n    if (photoId) {\r\n      const photoEdit = await PhotoApi.get(photoId);\r\n      setPhotoCard({ ...photoEdit });\r\n      reset({ ...photoEdit });\r\n    } else {\r\n      setPhotoCard({});\r\n    }\r\n  }, []);\r\n\r\n  const handleChangeInput = (e) => {\r\n    const value = e.target.value;\r\n    setPhotoCard({\r\n      ...photoCard,\r\n      imageUrl: value,\r\n    });\r\n  };\r\n  const onSubmit = async (data) => {\r\n    if (isAddMode) {\r\n      const action = await AddAsyncThunk(data);\r\n      dispatch(action);\r\n    } else {\r\n      const photoEdited = {\r\n        id: data.id,\r\n        author: data.author,\r\n        description: data.description,\r\n        imageUrl: data.imageUrl,\r\n        title: data.title,\r\n      };\r\n      const action = await EditAsyncThunk(photoEdited);\r\n      dispatch(action);\r\n    }\r\n\r\n    history.push(\"/photos\");\r\n  }; // your form submit function which will invoke after successful validation\r\n  const handleGoHome = ()=>{\r\n\thistory.push(\"/photos\");\r\n  }\r\n  return (\r\n    <>\r\n\t  {/* <Prompt message=\"Are you sure you want to leave?\" /> */}\r\n\r\n      <Container maxWidth=\"false\">\r\n\t  <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={classes.button}\r\n        startIcon={<HomeIcon />}\r\n\t\tstyle={{marginTop:30}}\r\n\t\tonClick={handleGoHome}\r\n      >\r\n        Go back home\r\n      </Button>\r\n        <div style={{ padding: 16, margin: \"auto\", maxWidth: 600 }}>\r\n          <Typography\r\n            variant=\"h4\"\r\n            align=\"center\"\r\n            component=\"h1\"\r\n            gutterBottom\r\n            className=\"colorMode\"\r\n          >\r\n            🏁 {isAddMode ? \"Add Photo Card\" : \"Edit Photo Card\"}\r\n          </Typography>\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n            <Paper style={{ padding: 16 }}>\r\n              <Grid container alignItems=\"flex-start\" spacing={2}>\r\n                <Grid item xs={6}>\r\n                  <TextField\r\n                    id=\"outlined-multiline-static\"\r\n                    label=\"id\"\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    dis\r\n                    inputProps={register(\"id\")}\r\n                    style={{ display: \"none\" }}\r\n                  />\r\n                  <TextField\r\n                    id=\"outlined-multiline-static\"\r\n                    label=\"Title\"\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    required={true}\r\n                    focused={!isAddMode}\r\n                    inputProps={register(\"title\")}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                  <TextField\r\n                    id=\"outlined-multiline-static\"\r\n                    label=\"Author\"\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    required={true}\r\n                    focused={!isAddMode}\r\n                    inputProps={register(\"author\")}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    id=\"outlined-multiline-static\"\r\n                    label=\"Description\"\r\n                    multiline\r\n                    rows={4}\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    focused={!isAddMode}\r\n                    required={true}\r\n                    inputProps={register(\"description\")}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    id=\"outlined-multiline-static\"\r\n                    label=\"Link Image\"\r\n                    rows={2}\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    focused={!isAddMode}\r\n                    required={true}\r\n                    inputProps={register(\"imageUrl\", {\r\n                      pattern: /(https?:\\/\\/[^\\s]+)/g,\r\n                    })}\r\n                    onChange={handleChangeInput}\r\n                  />\r\n                  {errors.imageUrl && <span>Nhập link ảnh !!!</span>}\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <Card variant=\"outlined\">\r\n                    <CardContent\r\n                      style={{ display: \"flex\", justifyContent: \"center\" }}\r\n                    >\r\n                      <img\r\n                        style={{ width: 360, height: 360, objectFit: \"cover\" }}\r\n                        src={photoCard.imageUrl}\r\n                        alt=\"\"\r\n                      />\r\n                    </CardContent>\r\n                  </Card>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    type=\"submit\"\r\n                    startIcon={<CloudUploadIcon />}\r\n                  >\r\n                    Upload\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            </Paper>\r\n          </form>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AddEditPage;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nexport const useStyles = makeStyles((theme) => ({\r\n    margin: {\r\n      margin: theme.spacing(1),\r\n    },\r\n    scrollTop:{\r\n        position:\"fix\",\r\n        position: \"fixed\",\r\n        bottom: `1.5rem`,\r\n        right: `0.5rem`,\r\n        animation: `$fadeIn 700ms ease-in-out 1s both`,\r\n        cursor: \"pointer\"\r\n    },\r\n    \"@keyframes fadeIn\" :{\r\n        \"from\": {\r\n          opacity: 0\r\n        },\r\n        \"to\": {\r\n          opacity: 1\r\n        }\r\n      }\r\n  }));","import Fab from \"@material-ui/core/Fab\";\r\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useStyles } from \"./style\";\r\nButtonToTop.propTypes = {};\r\n\r\nfunction ButtonToTop(props) {\r\n  const [isShow, setIsShow] = useState(false);\r\n  const classes = useStyles();\r\n  function logit() {\r\n    if (window.pageYOffset > 300) {\r\n        setIsShow(true)\r\n    }\r\n    else{\r\n        setIsShow(false)\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    function watchScroll() {\r\n      window.addEventListener(\"scroll\", logit);\r\n    }\r\n    watchScroll();\r\n    return () => {\r\n      window.removeEventListener(\"scroll\", logit);\r\n    };\r\n  });\r\n  const scrollToTop = () => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      {isShow && (\r\n        <Fab\r\n          size=\"medium\"\r\n          color=\"secondary\"\r\n          aria-label=\"add\"\r\n          className={(classes.margin, classes.scrollTop)}\r\n          id=\"scroll-to-top\"\r\n          onClick={scrollToTop}\r\n        >\r\n          <ExpandLessIcon />\r\n        </Fab>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ButtonToTop;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./style.css\";\r\n\r\nFloatingIcon.propTypes = {};\r\n\r\nfunction FloatingIcon(props) {\r\n  const [isshowIcon, setIsShowIcon] = useState(false);\r\n  const {editPhoto,removePhoto,isShow} = props\r\n  useEffect(()=>{\r\n    setIsShowIcon(false)\r\n  },[isShow])\r\n  const showIcon = () => {\r\n    setIsShowIcon((isshowIcon) => !isshowIcon);\r\n  };\r\n  return (\r\n    <>\r\n      <div className={`icon-container ${isShow?\"show\":\"\"}`}  >\r\n        <div className={`inner-fabs ${isshowIcon && isShow ? \"show\" : \"\"} `}>\r\n          <div className=\"fab round\" id=\"fab4\" data-tooltip=\"Delete\" onClick={()=>{removePhoto()}}>\r\n            <i className=\"material-icons\">delete_forever</i>\r\n          </div>\r\n          <div className=\"fab round\" id=\"fab3\" data-tooltip=\"Edit\" onClick={()=>{editPhoto()}}>\r\n            <i className=\"material-icons\">create</i>\r\n          </div>\r\n        </div>\r\n        <div className=\"fab round\" id=\"fab1\" onClick={showIcon} >\r\n          <i className=\"material-icons\" id=\"fabIcon\">\r\n            add\r\n          </i>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FloatingIcon;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\nimport { RemoveAsyncThunk } from \"../../photoSlice\";\r\nimport FloatingIcon from \"../Floating Icon\";\r\nimport \"./style.css\";\r\nPhotoCard.propTypes = {};\r\n\r\nfunction PhotoCard(props) {\r\n    const {photoItem} = props;\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n    const [isShow,setIsShow] = useState(false)\r\n    const editPhoto = ()=>{\r\n      const editPhotoUrl = `/photos/${photoItem.id}`;\r\n      history.push(editPhotoUrl)\r\n    }\r\n    const removePhoto = ()=>{\r\n      const action = RemoveAsyncThunk(photoItem.id)\r\n      dispatch(action)\r\n    }\r\n    const[flag,setFlag] = useState(false)\r\n    const handleShowFloating = ()=>{\r\n        setIsShow(true)\r\n    }\r\n    const handleUnShowFloating=()=>{\r\n         setIsShow(false)\r\n    }\r\n   \r\n  return (\r\n    <>\r\n      <div id=\"card-photo\" class=\"card-photo\" style={{\r\n              backgroundImage: `url(${photoItem.imageUrl})`,\r\n            }}\r\n            onMouseEnter={handleShowFloating}\r\n            onMouseLeave={handleUnShowFloating}\r\n            >\r\n        <div class=\"img\">\r\n          <span\r\n            style={{\r\n              backgroundImage: `url(${photoItem.imageUrl})`,\r\n            }}\r\n          ></span>\r\n          <span\r\n            style={{\r\n              backgroundImage: `url(${photoItem.imageUrl})`,\r\n            }}\r\n          ></span>\r\n          <span\r\n            style={{\r\n              backgroundImage: `url(${photoItem.imageUrl})`,\r\n            }}\r\n          ></span>\r\n          <span\r\n            style={{\r\n              backgroundImage: `url(${photoItem.imageUrl})`,\r\n            }}\r\n          ></span>\r\n        </div>\r\n        <div class=\"content\">\r\n          <h2> {photoItem.author}</h2>\r\n          <h2>{photoItem.title}</h2>\r\n          <h4>{photoItem.description}</h4>\r\n        </div>\r\n        <FloatingIcon editPhoto={editPhoto} removePhoto={removePhoto} isShow={isShow}/>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PhotoCard;\r\n","import {  makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  banner: {\r\n    display: \"flex\",\r\n    flexFlow: \"row wrap\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    height:15+\"rem\",\r\n    // background:`url(https://i.pinimg.com/564x/8a/a7/f3/8aa7f39e153dc80ca16855071320063c.jpg)` ,\r\n    backgroundPosition: \"center\",\r\n    // backgroundSize: \"cover\",\r\n  },\r\n  title:{\r\n      color:\"rgba(255,255,255,0.85)\",\r\n      fontWeight:\"bold\",\r\n      margin:\"auto\"\r\n  }\r\n}));\r\n","import React from \"react\";\r\nimport { useStyles } from \"./style\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport Slider from \"react-slick\";\r\nimport { Container } from \"@material-ui/core\";\r\n\r\nfunction Banner(props) {\r\n  const { title, backgroundUrl } = props;\r\n  const classes = useStyles();\r\n  const backgroundSlide = backgroundUrl\r\n    ? [\r\n      ...backgroundUrl\r\n    ]\r\n      \r\n    : [ \" https://i.pinimg.com/564x/8a/a7/f3/8aa7f39e153dc80ca16855071320063c.jpg\",\" https://i.pinimg.com/236x/15/02/3f/15023fd9bc55470260779f01b48faa04.jpg\"];\r\n\r\n  const settings = {\r\n    dots: false,\r\n    infinite: true,\r\n    autoplay:true,\r\n    arrows: false,\r\n    speed: 500,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n  };\r\n  return (\r\n    <>\r\n      <Slider {...settings}>\r\n        {backgroundSlide.map((x) => {\r\n          return (\r\n            <div>\r\n              <section className={classes.banner} style={{background:`url(${x})`}}>\r\n                <h1 className={classes.title}>{title}</h1>\r\n              </section>\r\n            </div>\r\n       \r\n          );\r\n        })}\r\n       \r\n            \r\n      </Slider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Banner;\r\n","import {  makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    marginTop:20,\r\n    marginBottom:20\r\n  },\r\n  iconButton: {\r\n    marginRight:5\r\n  },\r\n  iconItem: {\r\n    color: 'rgba(255, 255, 255, 0.54)',\r\n  },\r\n  \r\n}));","import { Container } from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ButtonToTop from \"../../../../components/ButtonToTop\";\r\nimport PhotoCard from \"../../components/Photocard\";\r\nimport { ScrollAsyncThunk, searchAsyncThunk } from \"../../photoSlice\";\r\nimport Banner from \"./../../../../components/Banner\";\r\nimport { useStyles } from \"./style\";\r\n\r\nfunction MainPage(props) {\r\n  const classes = useStyles();\r\n  const [isloading, setLoading] = useState(false);\r\n  const [page,setPage] =  useState(1)\r\n  //\r\n  const state = useSelector(state => state.photo)\r\n  const dispatch = useDispatch();\r\n  const {data,pagination,key,currentpage,totalPage,loading}=state\r\n  useEffect(()=>{\r\n    const action = searchAsyncThunk({page:1,title:key});\r\n    dispatch(action);\r\n  },[loading])\r\n \r\n  useEffect(() => {\r\n    var flag = true\r\n    const loadMoreData = async () => {\r\n        const action = await ScrollAsyncThunk({page:currentpage+1,title:key});\r\n        dispatch(action);\r\n    };\r\n    const onScroll = e => {\r\n      if (window.innerHeight + document.documentElement.scrollTop\r\n        > document.documentElement.offsetHeight -300 && flag){\r\n          flag = false\r\n         if (currentpage<totalPage ) {\r\n          loadMoreData();\r\n         }\r\n        }\r\n    };\r\n    window.addEventListener(\"scroll\", onScroll);\r\n\r\n    return () => window.removeEventListener(\"scroll\", onScroll);\r\n  }, [state]);\r\n \r\n  return (\r\n    <>\r\n      <Banner title=\"List Photo App\" ></Banner>\r\n      <Container maxWidth=\"false\">\r\n        <Button\r\n          className={classes.button}\r\n          component={Link}\r\n          to=\"photos/add\"\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          startIcon={<AddIcon />}\r\n        >\r\n          Add photo\r\n        </Button>\r\n        <Grid container spacing={3} id=\"list\">\r\n          {data.map((x, i) => {\r\n            return (\r\n              <Grid item xs={3} spacing={3}>\r\n                 <PhotoCard photoItem={x} />\r\n              </Grid>\r\n            );\r\n          })}\r\n        </Grid>\r\n        {loading && <div>Loading ...</div>}\r\n        {/* <div onClick={()=>{setPage(page+1)}}>aaaaa</div> */}\r\n        <ButtonToTop></ButtonToTop>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MainPage;\r\n","import React from \"react\";\r\nimport { Route, Switch, useRouteMatch } from \"react-router-dom\";\r\nimport AddEditPage from \"./pages/AddEdit\";\r\nimport MainPage from \"./pages/Main\";\r\n\r\nfunction Photo(props) {\r\n  const match = useRouteMatch();\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route exact path={match.url} component={MainPage} />\r\n        <Route  exact path={`${match.url}/add`} component={AddEditPage} />\r\n        <Route path={`${match.url}/:photoId`} component={AddEditPage} />\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Photo;\r\n"],"sourceRoot":""}